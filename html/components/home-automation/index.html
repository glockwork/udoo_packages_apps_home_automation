<link rel="import" href="../core-icon-button/core-icon-button.html">
<link rel="import" href="../core-toolbar/core-toolbar.html">
<link rel="import" href="dimmer.html">
<link rel="import" href="gpio.html">


<polymer-element name="home-automation">

  <template>
    <style>
      :host {
        position: absolute;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        font-size: 1.5em;
        font-family: sans-serif;
      }

      h1 {
        font-size: 0.5em;
        font-weight: normal;
        text-align:
        center; color: #999;
        margin: 2em 0 0 0;
      }

      #core_toolbar {
        right: 0px;
        left: 0px;
        color: rgb(255, 255, 255);
        fill: rgb(255, 255, 255);
        top: 0px;
        background-color: rgb(79, 125, 201);
      }

      .card {
        width: auto;
        overflow: visible;
        border-radius: 2px;
        box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
        margin: 0.5em 0.25em;
        padding: 0.5em;
        text-align: center;
        background-color: rgb(255, 255, 255);
      }

      home-automation-gpio {
        width: 32%;
        display: inline-block;
        background-color: rgb(255, 255, 255);
        font-size: 0.8em;
      }
    </style>

    <core-toolbar id="core_toolbar">
      <core-icon-button icon="menu" id="core_icon_button" on-tap="{{reset_all}}"></core-icon-button>
      <div id="div" flex>Home Automation</div>
    </core-toolbar>

    <core-card id="dimmers" class="card" layout vertical>
      <home-automation-dimmer channel="0" id="dimmer0" color="gold" value="0"></home-automation-dimmer>
      <home-automation-dimmer channel="1" id="dimmer1" color="green" value="0"></home-automation-dimmer>
      <home-automation-dimmer channel="2" id="dimmer2" color="red" value="0"></home-automation-dimmer>
      <home-automation-dimmer channel="3" id="dimmer3" color="navy" value="0"></home-automation-dimmer>
    </core-card>

    <core-card id="gpios" class="card" layout horizontal>
      <home-automation-gpio channel="0" id="io0" label="Ampli" value="0"></home-automation-gpio>
      <home-automation-gpio channel="1" id="io1" label="Aux 1" value="0"></home-automation-gpio>
      <home-automation-gpio channel="2" id="io2" label="Aux 2" value="0"></home-automation-gpio>
    </core-card>

    <a href="https://www.primianotucci.com/"><h1>Primiano Tucci - www.primianotucci.com</h1></a>
  </template>

  <script>
    Polymer({
      reset_all: function() {
        var dimmers = this.shadowRoot.getElementsByTagName('home-automation-dimmer');
        for (var i=0; i < dimmers.length; ++i)
          dimmers[i].value = "0";

        var gpios = this.shadowRoot.getElementsByTagName('home-automation-gpio');
        for (var i=0; i < gpios.length; ++i)
          gpios[i].value = "0";
      }
    });
  </script>

</polymer-element>